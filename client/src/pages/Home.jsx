import { useEffect, useState } from 'react';
import axios from 'axios';
import { Link } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import ReactionBar from '../components/ReactionBar';

export default function Home() {
  const [posts, setPosts] = useState([]);
  const { token } = useAuth();

  useEffect(() => {
    const fetchPosts = async () => {
      try {
        const headers = token ? { Authorization: `Bearer ${token}` } : {};
        const res = await axios.get('https://monochrome-agc7.onrender.com/api/posts', { headers });
        setPosts(res.data);
      } catch (err) { }
    };
    fetchPosts();
  }, [token]);

  const handlePostUpdate = (updatedPost) => {
    setPosts(prev => prev.map(p => p._id === updatedPost._id ? updatedPost : p));
  };

  return (
    <div>
      <header className="editorial-header">


        <div className="editorial-items">
          <h1 className="header-title">Where your <span>words</span> <br />take center stage.</h1>
          <div className="header-meta">
            <p>Volume 4 â€¢ {new Date().getFullYear()}</p>
            <p>Curated Perspectives</p>
          </div>
        </div>
        <svg width="325" height="291" viewBox="0 0 325 291" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0_2_6)">
            <path d="M11.2558 0.302002H22.8837V11.93H11.2558V0.302002ZM11.2558 11.93H22.8837V23.558H11.2558V11.93ZM22.8837 11.93H34.5116V23.558H22.8837V11.93ZM22.8837 23.558H34.5116V35.186H22.8837V23.558ZM34.5116 23.558H46.1395V35.186H34.5116V23.558ZM34.5116 35.186H46.1395V46.814H34.5116V35.186ZM46.1395 35.186H57.7674V46.814H46.1395V35.186ZM46.1395 23.558H57.7674V35.186H46.1395V23.558ZM57.7674 23.558H69.3954V35.186H57.7674V23.558ZM57.7674 35.186H69.3954V46.814H57.7674V35.186ZM69.3954 11.93H81.0233V23.558H69.3954V11.93ZM81.0233 23.558H92.651V35.186H81.0233V23.558ZM92.651 23.558H104.279V35.186H92.651V23.558ZM69.3954 23.558H81.0233V35.186H69.3954V23.558ZM69.3954 35.186H81.0233V46.814H69.3954V35.186ZM81.0233 35.186H92.651V46.814H81.0233V35.186ZM92.651 35.186H104.279V46.814H92.651V35.186ZM104.279 35.186H115.907V46.814H104.279V35.186ZM115.907 35.186H127.535V46.814H115.907V35.186ZM127.535 35.186H139.163V46.814H127.535V35.186ZM139.163 35.186H150.791V46.814H139.163V35.186ZM150.791 35.186H162.419V46.814H150.791V35.186ZM162.419 35.186H174.047V46.814H162.419V35.186ZM174.047 35.186H185.674V46.814H174.047V35.186ZM185.674 35.186H197.302V46.814H185.674V35.186ZM197.302 35.186H208.93V46.814H197.302V35.186ZM208.93 35.186H220.558V46.814H208.93V35.186ZM208.93 23.558H220.558V35.186H208.93V23.558ZM197.302 23.558H208.93V35.186H197.302V23.558ZM185.674 23.558H197.302V35.186H185.674V23.558ZM174.047 23.558H185.674V35.186H174.047V23.558ZM150.791 23.558H162.419V35.186H150.791V23.558ZM139.163 23.558H150.791V35.186H139.163V23.558ZM127.535 23.558H139.163V35.186H127.535V23.558ZM115.907 23.558H127.535V35.186H115.907V23.558ZM104.279 23.558H115.907V35.186H104.279V23.558ZM162.419 23.558H174.047V35.186H162.419V23.558ZM150.791 11.93H162.419V23.558H150.791V11.93ZM150.791 0.302002H162.419V11.93H150.791V0.302002ZM139.163 0.302002H150.791V11.93H139.163V0.302002ZM139.163 11.93H150.791V23.558H139.163V11.93ZM162.419 0.302002H174.047V11.93H162.419V0.302002ZM174.047 0.302002H185.674V11.93H174.047V0.302002ZM174.047 11.93H185.674V23.558H174.047V11.93ZM162.419 11.93H174.047V23.558H162.419V11.93ZM220.558 23.558H232.186V35.186H220.558V23.558ZM220.558 35.186H232.186V46.814H220.558V35.186ZM232.186 35.186H243.814V46.814H232.186V35.186ZM232.186 23.558H243.814V35.186H232.186V23.558ZM232.186 11.93H243.814V23.558H232.186V11.93ZM232.186 0.302002H243.814V11.93H232.186V0.302002ZM243.814 0.302002H255.442V11.93H243.814V0.302002ZM243.814 11.93H255.442V23.558H243.814V11.93ZM243.814 23.558H255.442V35.186H243.814V23.558ZM243.814 35.186H255.442V46.814H243.814V35.186ZM255.442 35.186H267.07V46.814H255.442V35.186ZM267.07 35.186H278.698V46.814H267.07V35.186ZM267.07 23.558H278.698V35.186H267.07V23.558ZM267.07 11.93H278.698V23.558H267.07V11.93ZM267.07 0.302002H278.698V11.93H267.07V0.302002ZM255.442 0.302002H267.07V11.93H255.442V0.302002ZM255.442 11.93H267.07V23.558H255.442V11.93ZM255.442 23.558H267.07V35.186H255.442V23.558ZM278.698 23.558H290.326V35.186H278.698V23.558ZM290.326 23.558H301.953V35.186H290.326V23.558ZM290.326 35.186H301.953V46.814H290.326V35.186ZM278.698 35.186H290.326V46.814H278.698V35.186ZM301.953 23.558H313.581V35.186H301.953V23.558ZM313.581 23.558H325.209V35.186H313.581V23.558ZM313.581 35.186H325.209V46.814H313.581V35.186ZM301.953 35.186H313.581V46.814H301.953V35.186ZM69.3954 46.814H81.0233V58.442H69.3954V46.814ZM69.3954 58.442H81.0233V70.07H69.3954V58.442ZM69.3954 70.07H81.0233V81.698H69.3954V70.07ZM69.3954 81.698H81.0233V93.326H69.3954V81.698ZM69.3954 93.326H81.0233V104.953H69.3954V93.326ZM81.0233 93.326H92.651V104.953H81.0233V93.326ZM81.0233 81.698H92.651V93.326H81.0233V81.698ZM81.0233 70.07H92.651V81.698H81.0233V70.07ZM81.0233 58.442H92.651V70.07H81.0233V58.442ZM81.0233 46.814H92.651V58.442H81.0233V46.814ZM92.651 46.814H104.279V58.442H92.651V46.814ZM104.279 46.814H115.907V58.442H104.279V46.814ZM104.279 58.442H115.907V70.07H104.279V58.442ZM104.279 70.07H115.907V81.698H104.279V70.07ZM104.279 81.698H115.907V93.326H104.279V81.698ZM104.279 93.326H115.907V104.953H104.279V93.326ZM104.279 104.953H115.907V116.581H104.279V104.953ZM92.651 104.953H104.279V116.581H92.651V104.953ZM92.651 93.326H104.279V104.953H92.651V93.326ZM92.651 81.698H104.279V93.326H92.651V81.698ZM92.651 70.07H104.279V81.698H92.651V70.07ZM92.651 58.442H104.279V70.07H92.651V58.442ZM69.3954 104.953H81.0233V116.581H69.3954V104.953ZM69.3954 116.581H81.0233V128.209H69.3954V116.581ZM69.3954 128.209H81.0233V139.837H69.3954V128.209ZM81.0233 128.209H92.651V139.837H81.0233V128.209ZM92.651 128.209H104.279V139.837H92.651V128.209ZM92.651 116.581H104.279V128.209H92.651V116.581ZM104.279 116.581H115.907V128.209H104.279V116.581ZM81.0233 104.953H92.651V116.581H81.0233V104.953ZM81.0233 116.581H92.651V128.209H81.0233V116.581ZM104.279 128.209H115.907V139.837H104.279V128.209ZM57.7674 93.326H69.3954V104.953H57.7674V93.326ZM46.1395 93.326H57.7674V104.953H46.1395V93.326ZM46.1395 104.953H57.7674V116.581H46.1395V104.953ZM57.7674 104.953H69.3954V116.581H57.7674V104.953ZM34.5116 93.326H46.1395V104.953H34.5116V93.326ZM22.8837 93.326H34.5116V104.953H22.8837V93.326ZM22.8837 104.953H34.5116V116.581H22.8837V104.953ZM34.5116 104.953H46.1395V116.581H34.5116V104.953ZM57.7674 139.837H69.3954V151.465H57.7674V139.837ZM46.1395 139.837H57.7674V151.465H46.1395V139.837ZM34.5116 139.837H46.1395V151.465H34.5116V139.837ZM22.8837 139.837H34.5116V151.465H22.8837V139.837ZM22.8837 151.465H34.5116V163.093H22.8837V151.465ZM34.5116 151.465H46.1395V163.093H34.5116V151.465ZM46.1395 151.465H57.7674V163.093H46.1395V151.465ZM57.7674 151.465H69.3954V163.093H57.7674V151.465ZM69.3954 151.465H81.0233V163.093H69.3954V151.465ZM69.3954 139.837H81.0233V151.465H69.3954V139.837ZM81.0233 139.837H92.651V151.465H81.0233V139.837ZM92.651 139.837H104.279V151.465H92.651V139.837ZM104.279 139.837H115.907V151.465H104.279V139.837ZM104.279 151.465H115.907V163.093H104.279V151.465ZM92.651 151.465H104.279V163.093H92.651V151.465ZM81.0233 151.465H92.651V163.093H81.0233V151.465ZM69.3954 163.093H81.0233V174.721H69.3954V163.093ZM81.0233 163.093H92.651V174.721H81.0233V163.093ZM92.651 163.093H104.279V174.721H92.651V163.093ZM104.279 163.093H115.907V174.721H104.279V163.093ZM104.279 174.721H115.907V186.349H104.279V174.721ZM92.651 174.721H104.279V186.349H92.651V174.721ZM81.0233 174.721H92.651V186.349H81.0233V174.721ZM69.3954 174.721H81.0233V186.349H69.3954V174.721ZM69.3954 186.349H81.0233V197.977H69.3954V186.349ZM81.0233 186.349H92.651V197.977H81.0233V186.349ZM81.0233 197.977H92.651V209.605H81.0233V197.977ZM69.3954 197.977H81.0233V209.605H69.3954V197.977ZM174.047 46.814H185.674V58.442H174.047V46.814ZM162.419 46.814H174.047V58.442H162.419V46.814ZM162.419 58.442H174.047V70.07H162.419V58.442ZM174.047 58.442H185.674V70.07H174.047V58.442ZM185.674 46.814H197.302V58.442H185.674V46.814ZM197.302 46.814H208.93V58.442H197.302V46.814ZM197.302 58.442H208.93V70.07H197.302V58.442ZM185.674 58.442H197.302V70.07H185.674V58.442ZM162.419 70.07H174.047V81.698H162.419V70.07ZM162.419 81.698H174.047V93.326H162.419V81.698ZM162.419 93.326H174.047V104.953H162.419V93.326ZM162.419 104.953H174.047V116.581H162.419V104.953ZM162.419 116.581H174.047V128.209H162.419V116.581ZM162.419 128.209H174.047V139.837H162.419V128.209ZM162.419 139.837H174.047V151.465H162.419V139.837ZM162.419 151.465H174.047V163.093H162.419V151.465ZM162.419 163.093H174.047V174.721H162.419V163.093ZM162.419 174.721H174.047V186.349H162.419V174.721ZM162.419 186.349H174.047V197.977H162.419V186.349ZM162.419 197.977H174.047V209.605H162.419V197.977ZM162.419 209.605H174.047V221.233H162.419V209.605ZM162.419 221.233H174.047V232.86H162.419V221.233ZM162.419 232.86H174.047V244.488H162.419V232.86ZM162.419 244.488H174.047V256.116H162.419V244.488ZM162.419 256.116H174.047V267.744H162.419V256.116ZM162.419 267.744H174.047V279.372H162.419V267.744ZM162.419 279.372H174.047V291H162.419V279.372ZM174.047 279.372H185.674V291H174.047V279.372ZM185.674 279.372H197.302V291H185.674V279.372ZM197.302 279.372H208.93V291H197.302V279.372ZM197.302 267.744H208.93V279.372H197.302V267.744ZM197.302 256.116H208.93V267.744H197.302V256.116ZM197.302 244.488H208.93V256.116H197.302V244.488ZM197.302 221.233H208.93V232.86H197.302V221.233ZM197.302 209.605H208.93V221.233H197.302V209.605ZM197.302 197.977H208.93V209.605H197.302V197.977ZM197.302 186.349H208.93V197.977H197.302V186.349ZM197.302 174.721H208.93V186.349H197.302V174.721ZM197.302 163.093H208.93V174.721H197.302V163.093ZM197.302 232.86H208.93V244.488H197.302V232.86ZM185.674 186.349H197.302V197.977H185.674V186.349ZM185.674 174.721H197.302V186.349H185.674V174.721ZM197.302 151.465H208.93V163.093H197.302V151.465ZM197.302 139.837H208.93V151.465H197.302V139.837ZM197.302 128.209H208.93V139.837H197.302V128.209ZM185.674 128.209H197.302V139.837H185.674V128.209ZM185.674 116.581H197.302V128.209H185.674V116.581ZM185.674 104.953H197.302V116.581H185.674V104.953ZM197.302 93.326H208.93V104.953H197.302V93.326ZM197.302 81.698H208.93V93.326H197.302V81.698ZM197.302 70.07H208.93V81.698H197.302V70.07ZM197.302 104.953H208.93V116.581H197.302V104.953ZM197.302 116.581H208.93V128.209H197.302V116.581ZM185.674 81.698H197.302V93.326H185.674V81.698ZM185.674 93.326H197.302V104.953H185.674V93.326ZM174.047 104.953H185.674V116.581H174.047V104.953ZM174.047 128.209H185.674V139.837H174.047V128.209ZM174.047 139.837H185.674V151.465H174.047V139.837ZM185.674 139.837H197.302V151.465H185.674V139.837ZM185.674 151.465H197.302V163.093H185.674V151.465ZM185.674 70.07H197.302V81.698H185.674V70.07ZM174.047 81.698H185.674V93.326H174.047V81.698ZM174.047 93.326H185.674V104.953H174.047V93.326ZM174.047 116.581H185.674V128.209H174.047V116.581ZM174.047 70.07H185.674V81.698H174.047V70.07ZM174.047 151.465H185.674V163.093H174.047V151.465ZM174.047 163.093H185.674V174.721H174.047V163.093ZM174.047 174.721H185.674V186.349H174.047V174.721ZM174.047 186.349H185.674V197.977H174.047V186.349ZM174.047 197.977H185.674V209.605H174.047V197.977ZM174.047 209.605H185.674V221.233H174.047V209.605ZM174.047 221.233H185.674V232.86H174.047V221.233ZM174.047 232.86H185.674V244.488H174.047V232.86ZM174.047 244.488H185.674V256.116H174.047V244.488ZM185.674 209.605H197.302V221.233H185.674V209.605ZM185.674 197.977H197.302V209.605H185.674V197.977ZM185.674 163.093H197.302V174.721H185.674V163.093ZM185.674 221.233H197.302V232.86H185.674V221.233ZM185.674 232.86H197.302V244.488H185.674V232.86ZM185.674 244.488H197.302V256.116H185.674V244.488ZM185.674 256.116H197.302V267.744H185.674V256.116ZM185.674 267.744H197.302V279.372H185.674V267.744ZM174.047 267.744H185.674V279.372H174.047V267.744ZM174.047 256.116H185.674V267.744H174.047V256.116ZM150.791 256.116H162.419V267.744H150.791V256.116ZM139.163 256.116H150.791V267.744H139.163V256.116ZM139.163 244.488H150.791V256.116H139.163V244.488ZM150.791 244.488H162.419V256.116H150.791V244.488ZM208.93 244.488H220.558V256.116H208.93V244.488ZM220.558 244.488H232.186V256.116H220.558V244.488ZM220.558 256.116H232.186V267.744H220.558V256.116ZM208.93 256.116H220.558V267.744H208.93V256.116ZM150.791 128.209H162.419V139.837H150.791V128.209ZM150.791 116.581H162.419V128.209H150.791V116.581ZM139.163 116.581H150.791V128.209H139.163V116.581ZM139.163 128.209H150.791V139.837H139.163V128.209ZM208.93 116.581H220.558V128.209H208.93V116.581ZM208.93 128.209H220.558V139.837H208.93V128.209ZM220.558 128.209H232.186V139.837H220.558V128.209ZM220.558 116.581H232.186V128.209H220.558V116.581ZM267.07 46.814H278.698V58.442H267.07V46.814ZM255.442 46.814H267.07V58.442H255.442V46.814ZM255.442 58.442H267.07V70.07H255.442V58.442ZM267.07 58.442H278.698V70.07H267.07V58.442ZM278.698 58.442H290.326V70.07H278.698V58.442ZM278.698 46.814H290.326V58.442H278.698V46.814ZM290.326 46.814H301.953V58.442H290.326V46.814ZM290.326 58.442H301.953V70.07H290.326V58.442ZM255.442 70.07H267.07V81.698H255.442V70.07ZM255.442 81.698H267.07V93.326H255.442V81.698ZM255.442 93.326H267.07V104.953H255.442V93.326ZM255.442 116.581H267.07V128.209H255.442V116.581ZM255.442 128.209H267.07V139.837H255.442V128.209ZM255.442 104.953H267.07V116.581H255.442V104.953ZM255.442 139.837H267.07V151.465H255.442V139.837ZM255.442 151.465H267.07V163.093H255.442V151.465ZM255.442 163.093H267.07V174.721H255.442V163.093ZM255.442 174.721H267.07V186.349H255.442V174.721ZM255.442 186.349H267.07V197.977H255.442V186.349ZM255.442 197.977H267.07V209.605H255.442V197.977ZM255.442 209.605H267.07V221.233H255.442V209.605ZM255.442 221.233H267.07V232.86H255.442V221.233ZM255.442 232.86H267.07V244.488H255.442V232.86ZM255.442 244.488H267.07V256.116H255.442V244.488ZM255.442 256.116H267.07V267.744H255.442V256.116ZM267.07 256.116H278.698V267.744H267.07V256.116ZM278.698 256.116H290.326V267.744H278.698V256.116ZM290.326 256.116H301.953V267.744H290.326V256.116ZM290.326 244.488H301.953V256.116H290.326V244.488ZM290.326 232.86H301.953V244.488H290.326V232.86ZM290.326 221.233H301.953V232.86H290.326V221.233ZM290.326 209.605H301.953V221.233H290.326V209.605ZM290.326 197.977H301.953V209.605H290.326V197.977ZM290.326 186.349H301.953V197.977H290.326V186.349ZM290.326 174.721H301.953V186.349H290.326V174.721ZM278.698 163.093H290.326V174.721H278.698V163.093ZM278.698 151.465H290.326V163.093H278.698V151.465ZM278.698 139.837H290.326V151.465H278.698V139.837ZM278.698 128.209H290.326V139.837H278.698V128.209ZM290.326 151.465H301.953V163.093H290.326V151.465ZM290.326 163.093H301.953V174.721H290.326V163.093ZM290.326 139.837H301.953V151.465H290.326V139.837ZM290.326 128.209H301.953V139.837H290.326V128.209ZM290.326 116.581H301.953V128.209H290.326V116.581ZM290.326 104.953H301.953V116.581H290.326V104.953ZM290.326 93.326H301.953V104.953H290.326V93.326ZM290.326 81.698H301.953V93.326H290.326V81.698ZM290.326 70.07H301.953V81.698H290.326V70.07ZM278.698 104.953H290.326V116.581H278.698V104.953ZM278.698 116.581H290.326V128.209H278.698V116.581ZM278.698 93.326H290.326V104.953H278.698V93.326ZM278.698 70.07H290.326V81.698H278.698V70.07ZM267.07 70.07H278.698V81.698H267.07V70.07ZM267.07 81.698H278.698V93.326H267.07V81.698ZM267.07 93.326H278.698V104.953H267.07V93.326ZM267.07 104.953H278.698V116.581H267.07V104.953ZM267.07 116.581H278.698V128.209H267.07V116.581ZM278.698 81.698H290.326V93.326H278.698V81.698ZM267.07 128.209H278.698V139.837H267.07V128.209ZM267.07 139.837H278.698V151.465H267.07V139.837ZM267.07 151.465H278.698V163.093H267.07V151.465ZM267.07 163.093H278.698V174.721H267.07V163.093ZM267.07 174.721H278.698V186.349H267.07V174.721ZM267.07 186.349H278.698V197.977H267.07V186.349ZM267.07 197.977H278.698V209.605H267.07V197.977ZM267.07 209.605H278.698V221.233H267.07V209.605ZM267.07 221.233H278.698V232.86H267.07V221.233ZM267.07 232.86H278.698V244.488H267.07V232.86ZM267.07 244.488H278.698V256.116H267.07V244.488ZM278.698 244.488H290.326V256.116H278.698V244.488ZM278.698 232.86H290.326V244.488H278.698V232.86ZM278.698 221.233H290.326V232.86H278.698V221.233ZM278.698 197.977H290.326V209.605H278.698V197.977ZM278.698 186.349H290.326V197.977H278.698V186.349ZM278.698 174.721H290.326V186.349H278.698V174.721ZM278.698 209.605H290.326V221.233H278.698V209.605ZM290.326 267.744H301.953V279.372H290.326V267.744ZM278.698 267.744H290.326V279.372H278.698V267.744ZM278.698 279.372H290.326V291H278.698V279.372ZM290.326 279.372H301.953V291H290.326V279.372ZM301.953 244.488H313.581V256.116H301.953V244.488ZM313.581 244.488H325.209V256.116H313.581V244.488ZM313.581 256.116H325.209V267.744H313.581V256.116ZM301.953 256.116H313.581V267.744H301.953V256.116ZM104.279 186.349H115.907V197.977H104.279V186.349ZM92.651 186.349H104.279V197.977H92.651V186.349ZM81.0233 209.605H92.651V221.233H81.0233V209.605ZM69.3954 209.605H81.0233V221.233H69.3954V209.605ZM57.7674 232.86H69.3954V244.488H57.7674V232.86ZM46.1395 232.86H57.7674V244.488H46.1395V232.86ZM57.7674 221.233H69.3954V232.86H57.7674V221.233ZM34.5116 244.488H46.1395V256.116H34.5116V244.488ZM22.8837 244.488H34.5116V256.116H22.8837V244.488ZM22.8837 256.116H34.5116V267.744H22.8837V256.116ZM34.5116 256.116H46.1395V267.744H34.5116V256.116ZM11.2558 244.488H22.8837V256.116H11.2558V244.488ZM-0.372101 244.488H11.2558V256.116H-0.372101V244.488ZM11.2558 256.116H22.8837V267.744H11.2558V256.116ZM57.7674 267.744H69.3954V279.372H57.7674V267.744ZM46.1395 267.744H57.7674V279.372H46.1395V267.744ZM46.1395 279.372H57.7674V291H46.1395V279.372ZM57.7674 279.372H69.3954V291H57.7674V279.372ZM69.3954 267.744H81.0233V279.372H69.3954V267.744ZM81.0233 267.744H92.651V279.372H81.0233V267.744ZM81.0233 279.372H92.651V291H81.0233V279.372ZM69.3954 279.372H81.0233V291H69.3954V279.372ZM46.1395 244.488H57.7674V256.116H46.1395V244.488ZM104.279 256.116H115.907V267.744H104.279V256.116ZM92.651 256.116H104.279V267.744H92.651V256.116ZM104.279 244.488H115.907V256.116H104.279V244.488ZM57.7674 256.116H69.3954V267.744H57.7674V256.116ZM46.1395 256.116H57.7674V267.744H46.1395V256.116ZM115.907 232.86H127.535V244.488H115.907V232.86ZM127.535 221.233H139.163V232.86H127.535V221.233ZM127.535 232.86H139.163V244.488H127.535V232.86ZM115.907 244.488H127.535V256.116H115.907V244.488ZM92.651 267.744H104.279V279.372H92.651V267.744ZM208.93 267.744H220.558V279.372H208.93V267.744ZM301.953 267.744H313.581V279.372H301.953V267.744ZM278.698 11.93H290.326V23.558H278.698V11.93ZM220.558 11.93H232.186V23.558H220.558V11.93ZM127.535 11.93H139.163V23.558H127.535V11.93ZM185.674 11.93H197.302V23.558H185.674V11.93ZM57.7674 11.93H69.3954V23.558H57.7674V11.93ZM81.0233 11.93H92.651V23.558H81.0233V11.93ZM104.279 11.93H115.907V23.558H104.279V11.93ZM69.3954 221.233H81.0233V232.86H69.3954V221.233ZM92.651 197.977H104.279V209.605H92.651V197.977ZM34.5116 267.744H46.1395V279.372H34.5116V267.744ZM22.8837 267.744H34.5116V279.372H22.8837V267.744ZM34.5116 279.372H46.1395V291H34.5116V279.372ZM69.3954 0.302002H81.0233V11.93H69.3954V0.302002ZM57.7674 0.302002H69.3954V11.93H57.7674V0.302002ZM46.1395 11.93H57.7674V23.558H46.1395V11.93ZM-0.372101 256.116H11.2558V267.744H-0.372101V256.116ZM150.791 267.744H162.419V279.372H150.791V267.744ZM267.07 267.744H278.698V279.372H267.07V267.744Z" fill="black" />
            <path d="M70 47H-15V221H70V47Z" fill="white" />
          </g>
          <defs>
            <clipPath id="clip0_2_6">
              <rect width="325" height="291" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </header>

      <div className="masonry-grid">
        {posts.map(post => (
          <article key={post._id} className="post-card">
            <div className="card-meta">
              <div style={{ display: 'flex', alignItems: 'center' }}>
                <span className="author-dot"></span>
                <span>{post.author?.username || 'Unknown'}</span>
              </div>
              <span>{new Date(post.createdAt).toLocaleDateString(undefined, { month: 'short', day: 'numeric' })}</span>
            </div>

            <Link to={`/post/${post._id}`} style={{ display: 'block' }}>
              <h2 className="card-title">{post.title}</h2>
              <p className="card-excerpt">{post.content}</p>
            </Link>

            <div className="card-footer">
              <ReactionBar post={post} onUpdate={handlePostUpdate} />
              {post.isPrivate && <span className="tag-private">PRIVATE</span>}
            </div>
          </article>
        ))}
      </div>
    </div>
  );
}
